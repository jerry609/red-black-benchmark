# red-black-benchmark

## 实验目标

本实验旨在全面对比红黑树与其他常见数据结构（AVL树、B树、B+树、跳表、哈希表、二叉搜索树、线性数组）的性能表现，包括基础操作效率、内存占用、各种应用场景下的适用性，为不同应用场景下的数据结构选择提供科学依据。

## 实验代码结构

我们提供了一套完整的实验代码，包含以下关键文件：

1. **data_structures.js** - 包含所有数据结构的实现
    - 红黑树、AVL树、B树、B+树、跳表等数据结构的完整JavaScript实现
    - 数据生成器用于生成不同分布的测试数据
    - 基本性能测试框架

2. **advanced_tests.js** - 高级测试场景实现
    - 并发读写测试
    - 数据倾斜测试
    - 长时间压力测试
    - 持久化与恢复测试

3. **visualization.js** - 结果可视化工具
    - 生成各类性能对比图表
    - 支持不同操作和场景的性能可视化

4. **run_experiment.js** - 实验主程序
    - 集成全部测试流程
    - 生成综合分析报告

5. **worker.js** - 并发测试工作线程
    - 支持多线程并发性能测试

## 实验流程

### 1. 基础性能测试

测试各数据结构在基本操作上的性能：

- **CRUD操作**：插入、查找、删除、范围查询
- **数据分布**：均匀分布、有序数据、倾斜分布
- **数据规模**：100、1000、10000、50000

### 2. 高级场景测试

测试各数据结构在复杂场景中的表现：

- **并发环境**：多线程同时读写
- **数据倾斜**：处理非均匀分布数据
- **压力测试**：长时间持续运行
- **持久化测试**：序列化与反序列化性能

### 3. 数据分析与可视化

- 生成各类性能对比图表
- 计算不同场景下的性能评分
- 识别各数据结构的优势与不足

### 4. 综合报告生成

- 红黑树综合性能分析
- 各数据结构间的详细对比
- 不同应用场景的最佳数据结构推荐

## 主要发现预览

初步测试结果表明：

1. **红黑树** 在大多数场景下表现出良好的性能平衡性，尤其是在混合读写操作和长时间运行场景。

2. **AVL树** 在查找操作上略优于红黑树，但插入和删除操作开销较大。

3. **跳表** 在范围查询和并发访问场景中表现优异，但内存开销较大。

4. **B+树** 在范围查询和磁盘操作场景中具有明显优势。

5. **哈希表** 在单点查询上性能最佳，但不支持顺序操作和范围查询。

## 如何运行实验

1. 确保安装了Node.js环境（v14.0.0或更高版本）
2. 克隆项目代码并安装依赖：
   ```bash
   git clone <repository-url>
   cd data-structure-performance
   npm install
   ```

3. 运行完整实验（注意：完整测试可能耗时较长）：
   ```bash
   node run_experiment.js
   ```

4. 或运行特定测试：
   ```bash
   # 仅运行基础测试
   node run_experiment.js --basic-only
   
   # 仅运行高级测试
   node run_experiment.js --advanced-only
   
   # 指定数据规模
   node run_experiment.js --sizes=100,1000,5000
   ```

5. 查看结果：
    - 所有测试结果会保存在`./results`目录下
    - 报告文件：`./results/reports/`
    - 图表文件：`./results/charts/`
    - 原始数据：`./results/data/`

## 实验环境需求

- **硬件**：至少4GB RAM，推荐8GB或更多
- **软件**：Node.js v14.0.0+，支持ES6特性
- **依赖库**：如需生成可视化图表，需要安装Canvas、Chart.js等库

## 拓展与定制

这套实验框架设计为高度可扩展：

1. 添加新的数据结构：只需实现基本接口并添加到`dataStructures`对象中
2. 添加新的测试场景：扩展`PerformanceTester`或`AdvancedPerformanceTester`类
3. 定制测试参数：修改`run_experiment.js`中的配置变量


